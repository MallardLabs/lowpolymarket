# =============================================================================
# Discord Prediction Market Bot Configuration
# =============================================================================

# Environment Configuration
ENVIRONMENT=development  # Options: development, staging, production
DEBUG=false

# =============================================================================
# Discord Bot Configuration
# =============================================================================
DISCORD_TOKEN=your_discord_bot_token_here
DISCORD_COMMAND_PREFIX=!
DISCORD_SYNC_COMMANDS=true

# =============================================================================
# Database Configuration
# =============================================================================

# PostgreSQL Connection (use Transaction Pooler for Discord bots)
# Get from: Supabase Dashboard → Settings → Database → Connection string
# Choose: "Transaction pooler" (port 6543) for IPv4 compatibility and optimal performance
DATABASE_URL=postgresql://postgres.your-ref:your-password@aws-0-us-east-2.pooler.supabase.com:6543/postgres

# Supabase Project URL
# Get from: Supabase Dashboard → Settings → API → Project URL
DATABASE_SUPABASE_URL=https://your-project-ref.supabase.co

# Supabase API Keys (New format - June 2025+)
# Get from: Supabase Dashboard → Settings → API → API Keys
DATABASE_SUPABASE_PUBLISHABLE_KEY=sb_publishable_your_key_here
DATABASE_SUPABASE_SECRET_KEY=sb_secret_your_key_here

# Optional: JWT Secret for enhanced security
DATABASE_SUPABASE_JWT_SECRET=your_jwt_secret_here

# Database Connection Pool Settings
DATABASE_MIN_CONNECTIONS=5
DATABASE_MAX_CONNECTIONS=20
DATABASE_CONNECTION_TIMEOUT=30
DATABASE_QUERY_TIMEOUT=30

# =============================================================================
# Cache Configuration
# =============================================================================
# Redis settings (optional - leave empty for memory-only caching)
CACHE_REDIS_URL=redis://localhost:6379
CACHE_REDIS_PASSWORD=
CACHE_REDIS_DB=0

# Cache TTL settings (in seconds)
CACHE_DEFAULT_TTL=300
CACHE_PREDICTION_TTL=300
CACHE_MARKET_DATA_TTL=60
CACHE_USER_BALANCE_TTL=180

# Memory cache settings
CACHE_MAX_MEMORY_CACHE_SIZE=1000
CACHE_MEMORY_CACHE_TTL=60

# =============================================================================
# Business Logic Configuration
# =============================================================================
# Betting limits
BUSINESS_MAX_BET_AMOUNT=1000000
BUSINESS_MIN_BET_AMOUNT=1

# Prediction settings
BUSINESS_MAX_PREDICTION_DURATION_HOURS=720
BUSINESS_MIN_PREDICTION_DURATION_MINUTES=5
BUSINESS_AUTO_REFUND_HOURS=120

# Resolution settings
BUSINESS_MIN_RESOLUTION_VOTES=2
BUSINESS_RESOLUTION_TIMEOUT_HOURS=24

# Market maker settings
BUSINESS_INITIAL_LIQUIDITY=1000
BUSINESS_K_CONSTANT=1000000

# System limits
BUSINESS_MAX_CONCURRENT_BETS=50
BUSINESS_MAX_PREDICTIONS_PER_GUILD=100
BUSINESS_MAX_OPTIONS_PER_PREDICTION=10

# =============================================================================
# Rate Limiting Configuration
# =============================================================================
# Per-user rate limits
RATE_LIMIT_USER_REQUESTS_PER_MINUTE=10
RATE_LIMIT_USER_BETS_PER_MINUTE=5
RATE_LIMIT_USER_PREDICTIONS_PER_HOUR=3

# Per-guild rate limits
RATE_LIMIT_GUILD_REQUESTS_PER_MINUTE=100
RATE_LIMIT_GUILD_PREDICTIONS_PER_HOUR=10

# Rate limit settings
RATE_LIMIT_WINDOW_SECONDS=60
RATE_LIMIT_CLEANUP_INTERVAL=300
RATE_LIMIT_ADMIN_BYPASS_ENABLED=true

# =============================================================================
# DRIP API Configuration (existing points system)
# =============================================================================
API_BASE_URL=https://api.drip.re
API_KEY=your_drip_api_key_here
API_REALM_ID=your_drip_realm_id_here
API_TIMEOUT=30
API_MAX_RETRIES=3
API_RETRY_DELAY=1.0

# =============================================================================
# Logging Configuration
# =============================================================================
LOG_LEVEL=INFO
LOG_FORMAT=[{asctime}] [{levelname:<8}] {name}: {message}
LOG_DATE_FORMAT=%Y-%m-%d %H:%M:%S

# File logging
LOG_FILE_ENABLED=true
LOG_FILE_PATH=logs/discord.log
LOG_FILE_MAX_BYTES=10000000
LOG_FILE_BACKUP_COUNT=5

# Console logging
LOG_CONSOLE_ENABLED=true
LOG_CONSOLE_COLORS=true

# Structured logging
LOG_JSON_FORMAT=false
LOG_INCLUDE_EXTRA_FIELDS=true